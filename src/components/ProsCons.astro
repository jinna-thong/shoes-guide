---
/**
 * ProsCons Component
 * Displays pros and cons in a balanced layout
 * Based on Uma's hi-fi mockups and Figma template
 */

interface Props {
  pros_th?: string[];
  pros_en?: string[];
  cons_th?: string[];
  cons_en?: string[];
  locale?: 'en' | 'th';
}

const {
  pros_th = [],
  pros_en = [],
  cons_th = [],
  cons_en = [],
  locale = 'en'
} = Astro.props;

const pros = locale === 'th' ? pros_th : pros_en;
const cons = locale === 'th' ? cons_th : cons_en;

const hasContent = (pros && pros.length > 0) || (cons && cons.length > 0);
---

{hasContent ? (
  <div class="pros-cons grid grid-cols-1 md:grid-cols-2 gap-6">
    <!-- Pros -->
    <div class="bg-green-50/50 border border-green-200 rounded-xl p-6">
      <div class="flex items-center gap-2 mb-4">
        <div class="p-2 bg-green-100 rounded-full">
          <svg class="h-5 w-5 text-green-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"/>
          </svg>
        </div>
        <h3 class="font-bold text-lg text-green-900">
          {locale === 'th' ? 'ข้อดี' : 'Pros'}
        </h3>
      </div>

      <ul class="space-y-3">
        {(pros || []).slice(0, 5).map((pro) => (
          <li class="flex items-start gap-2">
            <span class="text-green-600 font-bold mt-0.5 flex-shrink-0">✓</span>
            <span class="text-gray-800">{pro}</span>
          </li>
        ))}
        {(!pros || pros.length === 0) && (
          <li class="text-gray-500 italic">
            {locale === 'th' ? 'กำลังรวบรวมข้อมูล' : 'Coming soon'}
          </li>
        )}
      </ul>
    </div>

    <!-- Cons -->
    <div class="bg-amber-50/50 border border-amber-200 rounded-xl p-6">
      <div class="flex items-center gap-2 mb-4">
        <div class="p-2 bg-amber-100 rounded-full">
          <svg class="h-5 w-5 text-amber-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M10 14H5.236a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.736 3h4.018a2 2 0 01.485.06l3.76.94m-7 10v5a2 2 0 002 2h.096c.5 0 .905-.405.905-.904 0-.715.211-1.413.608-2.008L17 13V4m-7 10h2m5-10h2a2 2 0 012 2v6a2 2 0 01-2 2h-2.5"/>
          </svg>
        </div>
        <h3 class="font-bold text-lg text-amber-900">
          {locale === 'th' ? 'ข้อจำกัด' : 'Cons'}
        </h3>
      </div>

      <ul class="space-y-3">
        {(cons || []).slice(0, 5).map((con) => (
          <li class="flex items-start gap-2">
            <span class="text-amber-600 font-bold mt-0.5 flex-shrink-0">−</span>
            <span class="text-gray-800">{con}</span>
          </li>
        ))}
        {(!cons || cons.length === 0) && (
          <li class="text-gray-500 italic">
            {locale === 'th' ? 'กำลังรวบรวมข้อมูล' : 'Coming soon'}
          </li>
        )}
      </ul>
    </div>
  </div>
) : (
  <!-- Placeholder when no pros/cons -->
  <div class="bg-gray-50 border border-dashed border-gray-300 rounded-xl p-6 text-center">
    <div class="text-4xl mb-4">⚖️</div>
    <h3 class="font-semibold text-gray-700 mb-2">
      {locale === 'th' ? 'กำลังวิเคราะห์' : 'Analysis Coming Soon'}
    </h3>
    <p class="text-sm text-gray-600">
      {locale === 'th'
        ? 'เรากำลังรวบรวมข้อดีและข้อเสียของสินค้านี้'
        : 'We are compiling pros and cons for this product.'}
    </p>
  </div>
)}

<style>
  .pros-cons > div {
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }
  .pros-cons > div:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  }
</style>
